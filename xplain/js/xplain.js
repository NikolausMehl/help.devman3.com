//----------------------------------------------------------//
//  XPLAIN.JS Animation script for HelpXPlain presentations.
//  Version: 1.9
//  Copyright EC Software GmbH 2018-2021
//----------------------------------------------------------//
!function(e,t){var a,o,r,s=(a=e.createElement("dummy").style,o="Webkit Moz O ms Khtml".split(" "),r={},function(e){if(void 0===r[e]){var t=e.charAt(0).toUpperCase()+e.substr(1),n=(e+" "+o.join(t+" ")+t).split(" ");for(var l in r[e]=null,n)if(void 0!==a[n[l]]){r[e]=n[l];break}}return r[e]}),i=function(e,t){var a,o;for(a in t)t.hasOwnProperty(a)&&null!==(o=s(a))&&(e.style[o]=t[a]);return e},c=function(e,t){return e.dataset?e.dataset[t]:e.getAttribute("data-"+t)};initXplain=function(a,o,r,u){navigator.userAgent.toLowerCase();var d=null!==s("transform"),f=null!==s("perspective"),m=function(){return!1};if(!d){var g=e.getElementById("fallbackmessage");return g&&i(g,{display:"block"}),{goto:m,prev:m,next:m,navigate:m,play:m,stop:m,reload:m,playing:m,share:m,enableloop:m,enableaudio:m,audioenabled:m,playmedia:m,gofullscreen:m,exitfullscreen:m,addEventListener:m,removeEventListener:m,animateTo:m,animateFromTo:m,set:m,slideDuration:m}}var b=t.location.hash;b.indexOf("?")>-1&&(b=b.substr(1,b.indexOf("?")-1));var h=0;t.location.href.indexOf("?autoplay=")>-1&&(h=parseFloat(t.location.href.substring(t.location.href.indexOf("?autoplay=")+10)));var v=e.getElementById("xplbackgroundbase"),y=e.getElementById("xplbackground"),k=e.getElementById("xplbase"),w=e.getElementById("xplcanvas"),x=[e.getElementById("xplviewportmask1"),e.getElementById("xplviewportmask2")],E=Array.prototype.slice.call(e.getElementsByClassName("xplframe"));E.sort(function(e,t){var a=parseInt(c(e,"frameindex")),o=parseInt(c(t,"frameindex"));return a<o?-1:a>o?1:0});for(var T=0;T<E.length;T++)E[T].cx=c(E[T],"framecx"),E[T].cy=c(E[T],"framecy"),E[T].w=c(E[T],"framew"),E[T].h=c(E[T],"frameh"),E[T].r=c(E[T],"framer"),E[T].position=c(E[T],"frameposition"),E[T].duration=c(E[T],"frametrans"),E[T].zoomout=c(E[T],"framezoomout"),E[T].displayTime=c(E[T],"frameshow"),E[T].nextFrame=c(E[T],"framenext"),E[T].animateIn=[],E[T].animateOut=[],E[T].dirty=!0;var j=e.getElementById("xplplayercontrols");j&&d&&i(j,{display:"block"});var F,I,L=!1,C=!1,B=!1,N=(e.title,-1),M=4,S=1,V=0,H=0,O=0,W=60,z=0;tickerStartTime=.1;var A,D="",R=[],U=u?Math.abs(u):1,q=!!u&&u<=0,P=[],G={startX:0,startY:0,startTime:0,touchInit:!1},X=function(e,t,a){for(var o=0;o<P.length;o++)if(P[o].name==e)return P[o].handler(t,a)},Z=function(){return j&&1!=c(j,"overlay")?j.offsetHeight:0},_=function(e,t){if(e){var a=e.className;a=a.replace(" enabled","").replace(" disabled","")+(t?" enabled":" disabled"),e.className=a}},Y=function(){_(e.getElementById("xplplayerprev"),N>0&&C),_(e.getElementById("xplplayernext"),ve()>-1&&C)},K=function(t){_(e.getElementById("xplplayerplay"),t&&C),_(e.getElementById("xplplayerstop"),!t&&C),Y()},J=function(){_(e.getElementById("xplplayerloading"),!C)},Q=function(e){var a=t.innerWidth/e.w,o=(t.innerHeight-Z())/e.h,n=o>a?a:o;return"margin"==e.position&&(n*=.9),"fill"!=e.position||x[0]||(n=o<a?a:o),n},$=function(e){return e=e.replace(/[^\d]/g,""),isNaN(e)||e<1||e>E.count?0:e-1},ee=function(e){var t=e.target;re(t,!t.paused,t.duration,t.currentTime)},te=function(e){var t=e.target;ne(t)},ae=function(e,t){e.pauseSounds&&le(!1);var a=e.play();return a&&a.catch(function(e){console&&console.log(e.message)}),e.paused||(e.ducking>0&&se(e,parseFloat(100-e.ducking)/100),e.volume=e.defaultVolume?U*parseFloat(e.defaultVolume):U,t&&(e.addEventListener("timeupdate",ee),e.addEventListener("ended",te))),!e.paused},oe=function(e){e.paused||(e.pause(),e.ducking>0&&se(e,1),re(e,!1,-1,-1))},ne=function(e){e.removeEventListener("timeupdate",ee),e.removeEventListener("ended",te),e.pause(),e.load(),e.ducking>0&&se(e,1),re(e,!1,0,0)},re=function(e,t,a,o){var n=e.parentElement.children[0],r=n.getElementsByTagName("path"),l=n.getElementsByTagName("ellipse"),s=n.getElementsByTagName("text"),c=r[0],u=r[1],p=l[2],d=s[0];if(e.buttons!=t&&(t?(i(c,{display:"none"}),i(u,{display:"block"})):(i(c,{display:"block"}),i(u,{display:"none"})),e.buttons=t),a>-1&&p)if(0==o)p.style.strokeDashoffset="0",d&&(d.textContent="");else try{if(p.style.strokeDashoffset=parseFloat(270.1-270.1*o/a)+"%",d){var f=parseInt(o/60),m=parseInt(o-f);d.textContent=f+":"+(m<10?"0"+m:m)}}catch(e){p.style.strokeDashoffset="0",d&&(d.textContent="")}},le=function(e){for(var t=0;t<R.length;t++)e?ne(R[t]):oe(R[t]);e&&(R=[])},se=function(t,a){for(var o=e.getElementsByTagName("audio"),n=U*(a>0?a:1e-4),r=0;r<o.length;r++)o[r].volume&&(o[r]==t?o[r].volume=o[r].defaultVolume?U*parseFloat(o[r].defaultVolume):U:o[r].volume=o[r].defaultVolume?n*parseFloat(o[r].defaultVolume):n)},ie=function(t,a,o){a&&(U=a);for(var n=e.getElementsByTagName("audio"),r=0;r<n.length;r++)n[r].muted=!t,a&&n[r].volume&&(n[r].volume=n[r].defaultVolume?a*parseFloat(n[r].defaultVolume):a);q=!t,_(e.getElementById("xplplayermute"),!q),_(e.getElementById("xplplayerunmute"),q),ce(U),A&&(t?function(){if(A.paused)switch(D){case"start":ae(A,!1);break;case"slide2":N>0&&ae(A,!1);break;case"autoplay":case"autoplayonly":L&&ae(A,!1)}}():A.pause());var l=e.getElementById("xplplayeraudioinfo");l&&(t&&"block"==l.style.display?l.parentNode.removeChild(l):o&&(l.animation=new TimelineLite,l.animation.fromTo(l,.3,{scale:.1},{scale:1},0),l.animation.fromTo(l,4,{opacity:1,display:"block"},{opacity:0,display:"none"},10)))},ce=function(t){var a=e.getElementById("xplplayervolume");if(a){var o=a.getElementsByClassName("range")[0],n=a.getElementsByClassName("bar")[0],r=a.getElementsByClassName("slider")[0];o.offsetWidth>o.offsetHeight?(i(n,{top:"",height:"",width:parseInt(o.offsetWidth*(q?0:t))+"px"}),i(r,{top:"",left:parseInt(o.offsetLeft+n.offsetWidth-r.offsetWidth/2)+"px"})):(i(n,{width:"",top:parseInt(o.offsetHeight-o.offsetHeight*(q?0:t))+"px",height:parseInt(o.offsetHeight*(q?0:t))+"px"}),i(r,{top:parseInt(o.offsetTop+n.offsetTop-r.offsetHeight/2)+"px",left:""}))}},ue=function(e){function t(e){for(e.timeline&&(e.timeline.pause(0),e.timeline.kill(),delete e.timeline),T=0;T<e.length;T++){switch(e[T].kind){case"wait":break;case"hide":case"fadeout":case"scaleby":case"rotateby":case"moveto":case"moveby":case"movefrom":case"counttext":TweenLite.set(e[T].obj,{display:"block"});break;case"scale":TweenLite.set(e[T].obj,{display:0!=parseFloat(e[T].value1)?"block":"none"});break;case"play":var t=e[T].obj.children[1];t&&ne(t);break;default:TweenLite.set(e[T].obj,{display:"none"})}switch(e[T].kind){case"fadeout":TweenLite.set(e[T].obj,{opacity:e[T].orgo?e[T].orgo:1})}switch(e[T].kind){case"scale":var a=parseFloat(e[T].value1);if(0==a&&(a=parseFloat(e[T].orgs)/20),"SVG"==e[T].obj.tagName.toUpperCase())(new TimelineLite).to(e[T].obj,.001,{scale:a},0);else TweenLite.set(e[T].obj,{scale:a});case"scaleby":case"drag":TweenLite.set(e[T].obj,{scale:e[T].orgs?e[T].orgs:1})}switch(e[T].kind){case"moveleft":case"movetop":case"moveright":case"movebottom":case"moveto":case"moveby":TweenLite.set(e[T].obj,{left:e[T].orgx,top:e[T].orgy});break;case"movefrom":TweenLite.set(e[T].obj,{left:e[T].value1,top:e[T].value2});break;case"size":TweenLite.set(e[T].obj,{left:e[T].orgx,top:e[T].orgy,width:e[T].orgw,height:e[T].orgh})}}}for(var a=e;a<E.length;a++)E[a].dirty&&(t(E[a].animateIn),t(E[a].animateOut),E[a].dirty=!1);le(!0)},pe=function(e,a){a&&le(!0);var o=E[e]?a?E[e].animateIn:E[e].animateOut:null;if(o){a&&(E[e].dirty=!0);var r=new TimelineLite;o.timeline=r;for(var l=0,s=0,i=0;i<o.length;i++)l=l<(s=parseFloat(o[i].duration)+parseFloat(o[i].delay>0?o[i].delay:-o[i].delay))?s:l;for(i=0;i<o.length;i++){var u=o[i].delay>=0?o[i].delay:l+parseFloat(o[i].delay),d=null;switch(o[i].ease.toLowerCase()){case"power1.easeout":d=CustomEase.create("Power1.EaseOut","M0,0,C0.104,0.204,0.492,1,1,1");break;case"power2.easeout":d=CustomEase.create("Power2.EaseOut","M0,0,C0.126,0.382,0.282,0.674,0.44,0.822,0.632,1.002,0.818,1,1,1");break;case"back.easeout":d=CustomEase.create("Back.EaseOut","M0,0,C0.128,0.572,0.257,1.016,0.512,1.09,0.672,1.136,0.838,1,1,1");break;case"elastic.easeout":d=CustomEase.create("Elastic.EaseOut","M0,0,C0,0,0.049,0.675,0.085,1.115,0.122,1.498,0.156,1.34,0.16,1.322,0.189,1.193,0.203,1.111,0.23,0.978,0.262,0.818,0.303,0.876,0.307,0.882,0.335,0.925,0.349,0.965,0.38,1.006,0.43,1.088,0.484,1.022,0.53,0.997,0.58,0.964,0.667,1.002,0.725,1.004,0.829,1.008,1,1,1,1");break;case"bounce.easeout":d=CustomEase.create("Bounce.EaseOut","M0,0 C0.14,0 0.242,0.438 0.272,0.561 0.313,0.728 0.354,0.963 0.362,1 0.37,0.985 0.414,0.873 0.455,0.811 0.51,0.726 0.573,0.753 0.586,0.762 0.662,0.812 0.719,0.981 0.726,0.998 0.788,0.914 0.84,0.936 0.859,0.95 0.878,0.964 0.897,0.985 0.911,0.998 0.922,0.994 0.939,0.984 0.954,0.984 0.969,0.984 1,1 1,1")}switch(o[i].kind){case"wait":r.to(o[i].obj,o[i].duration,{},u);break;case"show":r.to(o[i].obj,0,{display:"block"},u);break;case"hide":r.to(o[i].obj,0,{display:"none"},u);break;case"fadein":(f=o[i].obj.style.opacity)||(f=1),r.to(o[i].obj,0,{opacity:0,display:"block"},u),r.to(o[i].obj,o[i].duration,{opacity:f},u);break;case"fadeout":var f;resultVisible=!1,(f=o[i].obj.style.opacity)||(f=1),r.fromTo(o[i].obj,o[i].duration,{opacity:f},{opacity:0},u),r.to(o[i].obj,0,{display:"none"},parseFloat(o[i].duration)+parseFloat(u));break;case"stroke":if(r.to(o[i].obj,0,{display:"block"},u),I=(v=o[i].obj.children).length>0?v[0]:null)if(L=I.childNodes)for(p=0;p<L.length;p++)if("path"==L[p].tagName||"rect"==L[p].tagName||"ellipse"==L[p].tagName)switch(c(L[p],"type")){case"startcap":break;case"endcap":r.to(L[p],0,{visibility:"hidden"},0),r.to(L[p],0,{visibility:"visible"},parseFloat(o[i].duration)+parseFloat(u));break;default:r.fromTo(L[p],o[i].duration,{drawSVG:"0 0"},{drawSVG:"0% 100%"},u)}break;case"counttext":var m=parseInt(o[i].value1),g=parseInt(o[i].value2);if(p=o[i].obj.getElementsByTagName("p")[0],p||(p=o[i].obj.getElementsByTagName("li")[0]),p){function b(){var e=parseFloat(parseInt(p.number)+.11).toLocaleString(void 0,{minimumFractionDigits:2});p.innerHTML=e.substring(0,e.length-3)}p.number=m,r.to(p,o[i].duration,{number:g,onUpdate:b,ease:d},u)}break;case"typetext":function h(e,t){var a=e;e:for(;a;)if(t(a),a.firstChild)a=a.firstChild;else for(;a;){if(a===e)break e;if(a.nextSibling){a=a.nextSibling;continue e}a=a.parentNode}}var v=[],y=0;h(o[i].obj.querySelector("div"),function(e){e.nodeValue&&""!=e.nodeValue&&""!=e.nodeValue.trim()&&(v.push(e),y+=e.nodeValue.length),v.length>0&&("P"==e.tagName||"LI"==e.tagName||"DIV"==e.tagName)&&(v.push(null),y+=10)});var k=o[i].duration/y,x=0;for(r.to(o[i].obj,0,{display:"block"},u),n=0;n<v.length;n++)if(null!=v[n]){var T=v[n].nodeValue,j=parseFloat(u)+parseFloat(x),F=parseFloat(k*T.length);r.to(v[n],0,{text:""},u),r.to(v[n],F,{text:T},j),x=parseFloat(x+F)}else x=parseFloat(x+10*k);break;case"svgstroke":case"svgdraw":var I,L;if(r.to(o[i].obj,0,{display:"block"},u),I=(v=o[i].obj.children).length>0?v[0].contentDocument:null)if((L=I.querySelectorAll("path, line, polyline, polygon, rect, ellipse")).length>0){k=parseFloat(o[i].duration/L.length);for(p=0;p<L.length;p++){switch(o[i].kind){case"svgstroke":L[p].setAttribute("data-fill",L[p].getAttribute("fill")),L[p].setAttribute("fill","none"),r.fromTo(L[p],k,{drawSVG:"0 0"},{drawSVG:"0 100%",ease:d},u).call(function(e){e.setAttribute("fill",e.getAttribute("data-fill"))},[L[p]]);break;case"svgdraw":r.fromTo(L[p],k,{opacity:0},{opacity:1},u)}u+=k}}break;case"size":var C=parseFloat(o[i].orgx),B=parseFloat(o[i].orgy),N=parseFloat(o[i].value1),M=parseFloat(o[i].value2);N<0&&(C+=N,N=-N),M<0&&(B+=M,M=-M),r.to(o[i].obj,o[i].duration,{left:C,top:B,width:N,height:M,display:"block",ease:d},u);break;case"scale":var S=parseFloat(c(o[i].obj,"scale")),V=parseFloat(o[i].value1);0==V&&(V=S/20),0==(H=parseFloat(o[i].value2))&&(H=S),r.to(o[i].obj,0,{scale:V,display:"block"},u),r.fromTo(o[i].obj,o[i].duration,{scale:V},{scale:H,ease:d},u);break;case"scaleby":S=parseFloat(c(o[i].obj,"scale"));var H=parseFloat(o[i].value1);r.fromTo(o[i].obj,o[i].duration,{scale:S},{scale:H,ease:d},u);break;case"rotate":S=parseFloat(c(o[i].obj,"scale"));var O=parseFloat(c(o[i].obj,"rotate"));r.to(o[i].obj,0,{scale:S/20,display:"block"},u),r.fromTo(o[i].obj,o[i].duration,{scale:S/20,rotation:O-360},{scale:S,rotation:O,ease:d},u);break;case"rotateby":var W=(O=parseFloat(c(o[i].obj,"rotate")))+parseFloat(o[i].value1);r.fromTo(o[i].obj,o[i].duration,{rotation:O},{rotation:W,ease:d},u);break;case"drag":S=parseFloat(c(o[i].obj,"scale")),H=parseFloat(o[i].value1);r.to(o[i].obj,0,{display:"block"},0),r.fromTo(o[i].obj,o[i].duration,{scale:S},{scale:H},u);break;case"flash":case"dblflash":S=parseFloat(c(o[i].obj,"scale"));r.to(o[i].obj,0,{scale:S/20,display:"block"},u),"flash"==o[i].kind?r.fromTo(o[i].obj,o[i].duration,{scale:S/20},{scale:S},u):(r.fromTo(o[i].obj,o[i].duration/2,{scale:S/20},{scale:S},u),r.fromTo(o[i].obj,o[i].duration/2,{scale:S/20},{scale:S},parseFloat(u)+o[i].duration/2)),r.to(o[i].obj,0,{display:"none"},parseFloat(o[i].duration)+parseFloat(u));break;case"play":var z=o[i].obj.children[1];function A(e){var t=R[e];t&&ae(t,!0)}z&&(R.push(z),r.to(o[i].obj,0,{onComplete:A,onCompleteParams:[R.indexOf(z)]},u));break;case"moveto":r.fromTo(o[i].obj,o[i].duration,{left:o[i].orgx,top:o[i].orgy},{left:o[i].value1,top:o[i].value2,ease:d},u);break;case"moveby":r.fromTo(o[i].obj,o[i].duration,{left:o[i].orgx,top:o[i].orgy},{left:parseFloat(o[i].orgx)+parseFloat(o[i].value1),top:parseFloat(o[i].orgy)+parseFloat(o[i].value2),ease:d},u);break;case"movefrom":r.fromTo(o[i].obj,o[i].duration,{left:o[i].value1,top:o[i].value2},{left:o[i].orgx,top:o[i].orgy,ease:d},u);break;default:var D=o[i].orgx,U=o[i].orgy,q=0,P=0,G=0,X=1;for(par=o[i].obj.parentElement;par&&par!=w;)G+=parseFloat(c(par,"rotate")),X*=parseFloat(c(par,"scale")),par=par.parentElement;G-=E[e].r,X/=Q(E[e]);var Z=Math.sin(-G*Math.PI/180),_=Math.cos(-G*Math.PI/180),Y=t.innerWidth>t.innerHeight?t.innerWidth:t.innerHeight,K=Y;switch(o[i].kind){case"moveleft":q=D-_*Y*X,P=U-Z*Y*X;break;case"moveright":q=D+_*Y*X,P=U+Z*K*X;break;case"movetop":q=D-Z*Y*X,P=U-_*K*X;break;case"movebottom":q=D+Z*Y*X,P=U+_*K*X}r.to(o[i].obj,0,{left:q,top:P,display:"block"},u),r.to(o[i].obj,o[i].duration,{left:D,top:U,ease:d},u)}}return r}return null},de=function(e,t,a){TweenLite.ticker.removeEventListener("tick",fe),X("onmoved",e,E.length),a&&pe(e,!0)},fe=function(){if(I){var e=parseInt(TweenLite.ticker.frame-z),t=TweenLite.ticker.time-tickerStartTime;if(e>5&&e/t<.9*W){W>20?(W-=5,TweenLite.ticker.fps(W)):TweenLite.ticker.removeEventListener("tick",fe);var a=I.timeScale();a<1.5&&I.timeScale(1.07*a)}}},me=function(a,o,n,l){A&&"slide2"==D&&a>0&&(ae(A,!1),A.paused&&ie(!1,U,!0),D="start"),l&&ue(a),X("onmoving",a,E.length),t.scrollTo(0,0),W=60,TweenLite.ticker.fps(W);var s=t.innerHeight-Z();i(k,{top:s/2+(j&&1!=c(j,"overlay")&&0==j.offsetTop?j.offsetHeight:0)+"px"}),v&&i(v,{top:s/2+"px"});var u=a;N>-1&&(a>0||0==a&&N!=E.length-1)&&a<N&&(n=E[u=N].duration);var p=E[u]&&E[u].zoomout?E[u].zoomout:0,d=E[a]?Q(E[a]):1,m=E[a]?-E[a].r:0,g=E[a]?-E[a].cx:0,h=E[a]?-E[a].cy:0;if(y)var x=c(y,"cw"),T=c(y,"ch"),F=c(y,"distance"),L=y.offsetWidth,C=y.offsetHeight,B=t.innerWidth/x,M=(t.innerHeight-Z())/T,R=M>B?B:M,q=((d/R-1)/100*(100-1*F)+1)*R,P=-L/2+g/100*(100-F),G=-C/2+h/100*(100-F);if(o){var _="M0,0,C0.2,0,0.374,0.306,0.507,0.512,0.652,0.738,0.822,1,1,1",K="M0,0,C0.266,0.412,0.436,0.654,0.565,0.775,0.609,0.816,0.78,1,1,1",J="M0,0,C0.434,0.004,0.79,0.698,1,1",$=_,ee=_;if((Math.abs(H-g)>100||Math.abs(O-h)>100)&&(d/S<.9||d/S>1.1)&&(p=.5),p>0){n*=1.3+p/3;var te=1;d<S?$="M0,0,C0.2,0,0.1,"+(te+=.3*p/(S/d-1))+",0.5,"+te+",0.9,"+te+",0.9,1,1,1":(d==S&&(d+=1e-5),$="M0,0,C0.1,0,0.1,-"+(te=.3*p/(d/S-1))+",0.4,-"+te+",0.9,-"+te+",0.9,1,1,1")}else S<.9*d&&($=J,ee=K),S>1.1*d&&($=K,ee=J),V!=m&&Math.abs(H-g)<100&&Math.abs(O-h)<100&&($=_,ee=_),S>d&&S>.7*d&&Math.abs(V-m)<90&&S/d<2&&(ee=K);var oe=CustomEase.create("scale",$),ne=CustomEase.create("move",ee),re=CustomEase.create("rotate","M0,0,C0.496,0,0.609,0.272,0.7,0.5,0.786,0.716,0.822,1,1,1");(I=new TimelineLite).timeScale(1),TweenLite.ticker.addEventListener("tick",fe),z=TweenLite.ticker.frame,tickerStartTime=TweenLite.ticker.time,y&&(f?I.to(v,n,{rotationZ:m,ease:re},0):I.to(v,n,{rotation:m,ease:re},0),I.to(v,n,{scale:q,ease:oe},0),I.to(y,n,{x:P,y:G,ease:ne},0)),f?I.to(k,n,{rotationZ:m,ease:re},0):I.to(k,n,{rotation:m,ease:re},0),I.to(k,n,{scale:d,ease:oe},0),I.to(w,n,{x:g,y:h,ease:ne,onComplete:de,onCompleteParams:[a,n,l]},0)}else y&&(f?TweenLite.set(v,{scale:q,rotationZ:m}):TweenLite.set(v,{scale:q,rotation:m}),TweenLite.set(y,{x:P,y:G})),f?TweenLite.set(k,{scale:d,rotationZ:m}):TweenLite.set(k,{scale:d,rotation:m}),TweenLite.set(w,{x:g,y:h}),X("onmoved",a,E.length),l&&pe(a,!0);!function(t){for(var a=0;a<E.length;a++){var o=e.getElementById("xplthumb"+a);o&&(o.className=a==t?"active":"")}}(a),N=a,S=d,V=m,H=g,O=h,b="#"+(a+1),r&&(t.location.hash=b),Y();var le=e.getElementById("xplplayerprogressindicator");le&&(i(le,o?{transition:n+"s ease"}:{transition:""}),i(le,{width:(a+1)/E.length*100+"%"}))},ge=function(e,t,a,o){if(o&&N>-1&&e>N)var n=pe(N,!1);return n?n.eventCallback("onComplete",me,[e,t,a,o]):me(e,t,a,o),n},be=function(e,t){if(e>-1&&e<E.length){var a=parseFloat(E[e].duration);return ge(e,!0,a,t)}},he=function(){N>0&&be(N-1,!0)},ve=function(){var e=-1;N>-1&&N<E.length&&E[N].nextFrame?e=parseInt(E[N].nextFrame):N<E.length-1?e=N+1:o&&(e=0);var t=X("onnextslide",e);return t>-1&&t<E.length&&(e=t),e},ye=function(){var e=ve();e>-1&&(0==e&&ue(0),be(e,!0))},ke=function(e,t){if(L||(K(!1),!A||"autoplay"!=D&&"autoplayonly"!=D||ae(A,!1)),L=!0,t&&t>0)M=t;else if(e||-1==(e=ve())&&(e=0),e>-1){0==e&&ue(0);var a=be(e,!0);N=e,(M=parseFloat(E[e].displayTime))>0&&a&&(M+=a.duration())}else M=0;if(M>0){for(T=0;T<E[N].animateIn.length;T++){var n=parseFloat(E[N].animateIn[T].delay)+parseFloat(E[N].animateIn[T].duration);n>M&&(M=n)}F=setTimeout(function(){function e(){M>0&&(N<E.length-1||o)?ke():we()}if(C)e();else var t=0,a=setInterval(function(){t++,C&&(clearInterval(a),e()),t>600&&(clearInterval(a),e())},100)},1e3*M)}else we()},we=function(){clearTimeout(F),L=!1,K(!0),A&&"autoplayonly"==D&&oe(A)},xe=function(){var t,a=!0;e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||(a=!1),a!=B&&(t=!(B=a),_(e.getElementById("xplplayergofullscreen"),t),_(e.getElementById("xplplayerexitfullscreen"),!t),!B&&L&&we())},Ee=function(){var e=parseInt(c(k,"width")),a=parseInt(c(k,"height"));if(x[0]&&x[1]&&e>0&&a>0){var o=e/a,n=t.innerWidth,r=t.innerHeight-Z(),l=r/a<n/e?r/a:n/e;if(o>n/r){var s=parseInt((r-a*l)/2);i(x[0],{left:0,top:0,right:0,bottom:parseInt(t.innerHeight-s-1)+"px"}),i(x[1],{left:0,top:parseInt(t.innerHeight-s-Z()+1)+"px",right:0,bottom:0})}else{var u=parseInt((n-e*l)/2);i(x[0],{left:0,top:0,right:parseInt(n-u-1)+"px",bottom:0}),i(x[1],{left:parseInt(n-u+1)+"px",top:0,right:0,bottom:0})}}};if(a&&(e.addEventListener("keydown",function(e){(e.keyCode>=32&&e.keyCode<=34||e.keyCode>=37&&e.keyCode<=40)&&e.preventDefault()},!1),e.addEventListener("keyup",function(t){if(9===t.keyCode||t.keyCode>=32&&t.keyCode<=34||t.keyCode>=37&&t.keyCode<=40){switch(t.keyCode){case 33:case 37:case 38:L&&we(),he();break;case 34:case 39:case 40:L&&we(),ye();break;case 32:L?we():e.getElementById("xplplayerplay")&&ke()}t.preventDefault()}},!1)),e.addEventListener("touchstart",function(t){G.startX=t.changedTouches[0].screenX,G.startY=t.changedTouches[0].screenY,G.startTime=(new Date).getTime(),G.touchInit||(G.touchInit=!0,function(){for(var t=e.getElementsByTagName("audio"),a=0;a<t.length;a++)t[a].play(),t[a].pause(),t[a].currentTime=0}())},!1),e.addEventListener("touchend",function(e){var t=e.changedTouches[0].screenX-G.startX;(new Date).getTime()-G.startTime<200&&(t>30||t<-30)&&(t<-30?ye():t>30&&he(),e.preventDefault())},!1),t.addEventListener("resize",function(){ce(U),ge(N,!1,.2,!1),xe(),Ee()},!1),t.addEventListener("hashchange",function(){t.location.hash!==b&&(b=t.location.hash,N=$(b),be(N,!0))},!1),d){v&&i(v,{display:"block"}),i(k,{display:"block"});var Te=$(b),je=e.getElementsByClassName("xplitem");for(T=0;T<je.length;T++){f&&i(je[T],{transform:"scale3d("+c(je[T],"scale")+","+c(je[T],"scale")+",1) rotateZ("+c(je[T],"rotate")+"deg)"});var Fe=c(je[T],"framein");if(Fe){var Ie=Fe.split(";");for(l=0;l<Ie.length;l++){var Le=Ie[l].split(","),Ce=new Object;Ce.obj=je[T],Ce.kind=Le[1],Ce.value1=Le[2],Ce.value2=Le[3],Ce.duration=Le[4],Ce.delay=Le[5],Ce.ease=Le[6],Ce.step=Le[7],"SVG"==Ce.obj.tagName.toUpperCase()?(Ce.orgx=Ce.obj.style.left,Ce.orgy=Ce.obj.style.top,Ce.orgw=Ce.obj.style.width,Ce.orgh=Ce.obj.style.height):(Ce.orgx=Ce.obj.offsetLeft,Ce.orgy=Ce.obj.offsetTop,Ce.orgw=Ce.obj.offsetWidth,Ce.orgh=Ce.obj.offsetHeight),Ce.orgs=c(Ce.obj,"scale"),Ce.orgo=Ce.obj.style.opacity,E[parseInt(Le[0])].animateIn.push(Ce)}}var Be=c(je[T],"frameout");if(Be){var Ne=Be.split(";");for(l=0;l<Ne.length;l++){var Me=Ne[l].split(","),Se=new Object;Se.obj=je[T],Se.kind=Me[1],Se.value1=Me[2],Se.value2=Me[3],Se.duration=Me[4],Se.delay=Me[5],Se.ease=Me[6],"SVG"==Se.obj.tagName.toUpperCase()?(Se.orgx=Se.obj.style.left,Se.orgy=Se.obj.style.top,Se.orgw=Se.obj.style.width,Se.orgh=Se.obj.style.height):(Se.orgx=Se.obj.offsetLeft,Se.orgy=Se.obj.offsetTop,Se.orgw=Se.obj.offsetWidth,Se.orgh=Se.obj.offsetHeight),Se.orgs=c(Se.obj,"scale"),Se.orgo=Se.obj.style.opacity,E[parseInt(Me[0])].animateOut.push(Se)}}}return function(){for(var t=e.getElementsByClassName("xplitem audio"),a=0;a<t.length;a++){var o=c(t[a],"source"),n=c(t[a],"ducking"),r=new Audio;r.ducking=n||0,r.pauseSounds=c(t[a],"pause"),r.muted=q,"blob:"==o.substring(0,5)?r.src=xplainMediaFiles[parseInt(o.substring(5))]:r.src=o,t[a].appendChild(r)}var l=c(k,"bgaudiosource");l&&""!=l&&(D=c(k,"bgaudiostart"),(A=new Audio).style.display="none",A.muted=q,A.loop="1"==c(k,"bgaudioloop"),A.defaultVolume=c(k,"bgaudiovol"),A.defaultVolume&&(A.volume=parseFloat(A.defaultVolume)),"blob:"==l.substring(0,5)?A.src=xplainMediaFiles[parseInt(l.substring(5))]:A.src=l,k.appendChild(A),"start"==D&&(ae(A,!1),A.paused&&(ie(!1,U,!0),ae(A,!1))));var s=e.getElementById("xplplayervolume");if(s){function i(e){var t=s.getElementsByClassName("range")[0],a=1,o=function(e){var t=0,a=0;do{t+=e.offsetTop||0,a+=e.offsetLeft||0,e=e.offsetParent}while(e);return{top:t,left:a}};if(t.offsetWidth>t.offsetHeight){var n=e.pageX-o(t).left;n<0&&(n=0),n>t.offsetWidth&&(n=t.offsetWidth),a=n/t.offsetWidth}else{var r=e.pageY-o(t).top;r<0&&(r=0),r>t.offsetHeight&&(r=t.offsetHeight),a=1-r/t.offsetHeight}xplain.enableaudio(a>.01,a)}function u(e){i(e)}s.addEventListener("mousedown",function(e){i(e),s.addEventListener("mousemove",u,!1)},!1),s.addEventListener("mouseup",function(e){s.removeEventListener("mousemove",u)},!1),s.addEventListener("mouseleave",function(e){s.removeEventListener("mousemove",u)},!1),ie(!q,U,q)}}(),ue(Te),ge(Te,!1,0,!0),K(!1),Y(),J(),function(t){function a(){C=!0,K(!L),Y(),J(),n&&i(n,{width:(N+1)/E.length*100+"%"})}var o=t.length;if(0==o)a();else for(var n=e.getElementById("xplplayerprogressindicator"),r=0;r<t.length;r++){var l=new Image;l.onload=function(){--o,n&&i(n,{width:(t.length-o+1)/t.length*100+"%"}),o<=0&&a()},l.onerror=l.onload,l.src=t[r].src}}(w.getElementsByTagName("img")),h>0&&ke(1,h),xe(),Ee(),{goto:be,prev:he,next:ye,navigate:function(e){L&&we(),e<0?he():ye()},play:ke,stop:we,reload:function(){ke(0,0)},playing:function(){return L},share:function(a){var o=e.title,n=t.location;switch(a){case"facebook":t.open("https://www.facebook.com/sharer.php?u="+encodeURI(n),"_blank");break;case"twitter":t.open("https://twitter.com/intent/tweet/?text="+encodeURIComponent(o),"_blank");break;case"linkedin":t.open("https://www.linkedin.com/shareArticle?mini=true&url="+encodeURI(n)+"&title="+encodeURIComponent(o),"_blank");break;case"xing":t.open("https://www.xing.com/social_plugins/share?url="+encodeURI(n),"_blank");break;case"email":t.location.href="mailto:?subject="+encodeURIComponent(o)+"&body="+encodeURI(n)}},enableloop:function(e){o=e},enableaudio:ie,audioenabled:function(){return!q},playmedia:function(t,a,o,n){var r="string"==typeof t?e.getElementById(t):t;if(r){var l=r.children.length>1?r.children[1]:null;if(l)switch(a||(n=!1,a=l.paused?"play":"pause"),l.tagName.toLowerCase()){case"audio":switch(a){case"play":ie(!0),o&&(l.currentTime=o);var s=ae(l,!0);return s&&!n&&R.push(l),s;case"pause":oe(l);break;case"stop":ne(l)}}}},gofullscreen:function(){var t=e.body;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()},exitfullscreen:function(){e.exitFullscreen?e.exitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.msExitFullscreen&&e.msExitFullscreen()},addEventListener:function(e,t){var a=new Object;a.name=e,a.handler=t,P.push(a)},removeEventListener:function(e,t){for(var a=0;a<P.length;a++)P[a].name==e&&P[a].handler==t&&P.splice(a,1)},animateTo:TweenLite.to,animateFromTo:TweenLite.fromTo,set:TweenLite.set,slideDuration:function(e){return(e="last")&&(e=E.length-1),E[e].displayTime}}}}}(document,window);